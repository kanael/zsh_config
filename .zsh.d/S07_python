# Coloring for python's nose test-running tool
export NOSE_REDNOSE=1

python_module_dir() {
    python -c "import $1, os; print os.path.dirname($1.__file__)"
}

cdpy() {
    cd "$(python_module_dir $1)"
}
pyenv() {
    local env_path;
    local old_prompt

    if [ -n "$1" ]; then
       env_path="$1";
    else
       env_path=~/.pyenv
    fi
    OLD_PROMPT=$PROMPT
    virtualenv --distribute $env_path
    pushd $env_path >/dev/null;
    source bin/activate
    PROMPT="%{$bg[magenta]%}${env_path:t}$rst$OLD_PROMPT"
    export PATH
    easy_install ipython
    easy_install nose
    alias nosetests="$env_path/bin/nosetests"
    popd >/dev/null;
}

pydeactivate() {
    deactivate
    unalias nosetests
    exec zsh;
}

mkpkg() {
    mkdir -p $1 
    echo >> $1/__init__.py
}